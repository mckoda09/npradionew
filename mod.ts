import { Bot, Context } from "https://deno.land/x/grammy@v1.20.2/mod.ts";
import "https://deno.land/x/dotenv@v3.2.2/load.ts"

const bot = new Bot(Deno.env.get("TOKEN") || "");

bot.command("start", async (ctx: Context) => {
  await ctx.reply(
    'ÐŸÑ€Ð¸Ð²ÐµÑ‚ ðŸ‘‹\nÐ¯ - Ð±Ð¾Ñ‚ Ð´Ð»Ñ Ð¿Ñ€Ð¸Ð²ÐµÑ‚Ð¾Ð² Ð»Ð°Ð³ÐµÑ€Ñ ÐÐ¾Ð²Ð¾Ðµ ÐŸÐ¾ÐºÐ¾Ð»ÐµÐ½Ð¸Ðµ.\n\nÐœÑ‹ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ Ð°ÐºÑ†Ð¸ÑŽ "ÐÐ¾Ð²Ð¾Ð³Ð¾Ð´Ð½Ð¸Ðµ ÐºÐ°Ð½Ð¸ÐºÑƒÐ»Ñ‹ Ñ ÑÐµÐ¼ÑŒÑ‘Ð¹". ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ ÑÐ²Ð¾Ð¸Ð¼Ð¸ ÑÐ°Ð¼Ñ‹Ð¼Ð¸ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ñ‹Ð¼Ð¸ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑÐ¼Ð¸ Ð¿Ñ€Ð°Ð·Ð´Ð½Ð¾Ð²Ð°Ð½Ð¸Ñ ÐÐ¾Ð²Ð¾Ð³Ð¾ Ð³Ð¾Ð´Ð° Ð¸Ð»Ð¸ Ð Ð¾Ð¶Ð´ÐµÑÑ‚Ð²Ð°\n\nÐ£Ð¶Ðµ Ð·Ð°Ð²Ñ‚Ñ€Ð° Ð²ÑÐµ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸ Ð¿Ñ€Ð¾Ð·Ð²ÑƒÑ‡Ð°Ñ‚ Ð¿Ð¾ Ñ€Ð°Ð´Ð¸Ð¾ ÐÐ¾Ð²Ð¾Ð³Ð¾ ÐŸÐ¾ÐºÐ¾Ð»ÐµÐ½Ð¸Ñ, Ð° Ð°Ð²Ñ‚Ð¾Ñ€Ñ‹ Ð»ÑƒÑ‡ÑˆÐ¸Ñ… Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¹ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ Ð¿Ð°Ð¼ÑÑ‚Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ð·Ñ‹ Ð¾Ñ‚ Ð»Ð°Ð³ÐµÑ€Ñ.\n\nÐ’ Ð»ÑŽÐ±Ð¾Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ ÑÑŽÐ´Ð° Ð¿Ñ€Ð¸Ð²ÐµÑ‚Ñ‹, Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ñ€Ð¸ÑÑ‚Ð½Ñ‹Ðµ ÑÐ»Ð¾Ð²Ð°, Ð¸ Ð¼Ñ‹ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð¾Ð·Ð²ÑƒÑ‡Ð¸Ð¼ Ð¸Ñ… Ð² Ñ€ÑƒÐ±Ñ€Ð¸ÐºÐµ "ÐŸÑ€Ð¸Ð²ÐµÑ‚Ñ‹" Ð½Ð° Ñ€Ð°Ð´Ð¸Ð¾.',
  );
});

bot.on("message", async (ctx: Context) => {
  if (ctx.chat?.id == -1001538721471) {
    await ctx.forwardMessage("-1001538721471", ctx.message)
    await ctx.react("ðŸ‘")
    await ctx.reply(
      "ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾ âœ…",
    );
  }
});

bot.catch(error => {
  console.error(error.message)
})

export default bot;